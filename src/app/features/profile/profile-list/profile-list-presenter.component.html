<crx-page>
    <div class="header">
        <crx-header pageTitle="Profile List"></crx-header>
    </div>

    <ng-container *ngIf="userList?.length; else empty">
        <table mat-table [dataSource]="userList" class="mat-elevation-z1">

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <ng-container matColumnDef="lastName">
                <th mat-header-cell *matHeaderCellDef> Last Name </th>
                <td mat-cell *matCellDef="let element"> {{ element.lastName }} </td>
            </ng-container>

            <ng-container matColumnDef="firstName">
                <th mat-header-cell *matHeaderCellDef> First Name </th>
                <td mat-cell *matCellDef="let element"> {{ element.firstName }} </td>
            </ng-container>

            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let element"> {{ element.email }} </td>
            </ng-container>

            <ng-container matColumnDef="phoneNumber">
                <th mat-header-cell *matHeaderCellDef> Phone </th>
                <td mat-cell *matCellDef="let element"> {{ element.phoneNumber }} </td>
            </ng-container>

            <ng-container matColumnDef="cellNumber">
                <th mat-header-cell *matHeaderCellDef> Cell </th>
                <td mat-cell *matCellDef="let element"> {{ element.cellNumber }} </td>
            </ng-container>

            <ng-container matColumnDef="dateOfBirth">
                <th mat-header-cell *matHeaderCellDef> DOB </th>
                <td mat-cell *matCellDef="let element"> {{ element.dateOfBirth | date }} </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button attr.aria-label="Open Profile" matTooltip="Open Profile"
                        (click)="openProfile(element.id)">
                        <mat-icon color="primary" aria-label="Open Profile" aria-hidden="false">person</mat-icon>
                    </button>
                </td>
            </ng-container>
        </table>
    </ng-container>
    <ng-template #empty>There are no users.</ng-template>
</crx-page>
